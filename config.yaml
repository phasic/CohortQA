# Cohort QA Configuration
# This file contains all configuration for the planner, AI, and TTS systems
# Environment variables in .env will override these values

# AI Configuration - Single Source of Truth
# All AI provider, model, and voice settings are defined here
ai:
  # Planner AI provider (for element selection)
  planner:
    provider: ollama  # Options: [ollama, openai, anthropic]
    model: mistral    # Model name (e.g., mistral, gpt-4o-mini, claude-3-haiku-20240307)
  
  # TTS provider (for text-to-speech)
  tts:
    provider: piper   # Options: [openai, piper, macos]
    model: tts-1      # Model name (for OpenAI: [tts-1, tts-1-hd])
    voice: amy        # Voice name
                      # For OpenAI: [alloy, echo, fable, onyx, nova, shimmer]
                      # For Piper: [amy, lessac, joe] or full path to .onnx file
                      # For macOS: [Samantha, Alex, Victoria, etc.]

# Planner Configuration
planner:
  maxClicks: 50
  maxConsecutiveFailures: 10
  elementWaitTimeout: 3000
  clickTimeout: 5000
  navigationWaitTimeout: 5000
  pageSettleTimeout: 800
  recentInteractionHistorySize: 50
  maxElementsToShowAI: 20
  # Tags to ignore when detecting interactive elements
  ignoredTags:
    - header
    - nav
    - aside
    - footer
    - dbs-top-bar

# TTS Configuration
# Technical settings for TTS (provider/model/voice are in ai.tts above)
tts:
  # macOS say defaults (voice is set in ai.tts.voice above)
  macos:
    rate: 200  # Words per minute
  
  # OpenAI TTS defaults (model and voice are set in ai.tts above)
  openai:
    # Model and voice are configured in ai.tts above
  
  # Piper TTS defaults (voice is set in ai.tts.voice above)
  piper:
    # Piper detection paths
    paths:
      - piper
      - piper-tts
      - ~/.local/bin/piper
      - ~/.local/bin/piper-tts
      - ~/.local/pipx/venvs/piper-tts/bin/piper
      - ~/.local/pipx/venvs/piper-tts/bin/piper-tts
      - /usr/local/bin/piper
      - /opt/homebrew/bin/piper
    # Piper voice model paths (checked in order for auto-detection)
    modelPaths:
      - ~/.local/share/piper/voices/en/en_US/amy/medium/en_US-amy-medium.onnx
      - ~/.local/share/piper/voices/en/en_US/lessac/medium/en_US-lessac-medium.onnx
      - ~/.local/share/piper/voices/en/en_US/joe/medium/en_US-joe-medium.onnx
      - ~/.piper/voices/en/en_US/amy/medium/en_US-amy-medium.onnx
      - /usr/local/share/piper/voices/en/en_US/amy/medium/en_US-amy-medium.onnx
      - /opt/homebrew/share/piper/voices/en/en_US/amy/medium/en_US-amy-medium.onnx
    # Piper voice shortcuts (maps friendly names to model paths)
    voiceShortcuts:
      amy: ~/.local/share/piper/voices/en/en_US/amy/medium/en_US-amy-medium.onnx
      lessac: ~/.local/share/piper/voices/en/en_US/lessac/medium/en_US-lessac-medium.onnx
      joe: ~/.local/share/piper/voices/en/en_US/joe/medium/en_US-joe-medium.onnx
  
  # Cache settings
  prefixCacheSize: 50
  
  # Fallback prefixes (used when AI is not available)
  fallbackPrefixes:
    realizing:
      - "Oh!"
      - "Hmm,"
      - "Interesting,"
      - "Look,"
      - "Hey,"
      - "Wow,"
      - "Nice,"
    deciding:
      - "I think"
      - "Let me try"
      - "Maybe"
      - "How about"
      - "I'll go with"
      - "Let's try"
    acting:
      - "Clicking"
      - "Going for"
      - "Trying"
      - "Selecting"
      - "Picking"
      - "Choosing"
  
  # Fallback thinking messages
  fallbackThinkingMessages:
    - "Let me think which one to click"
    - "Which one should I pick?"
    - "Hmm, which one looks best?"
    - "Let me pick the best one"
    - "Which one should I try?"
    - "Let me choose one"
    - "Which one to go with?"
    - "Let me decide which one"

